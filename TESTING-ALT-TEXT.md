# Testing Alt Text Suggestion Functionality

This document provides instructions for testing the alt text suggestion functionality using Adobe Sensei Content & Commerce AI.

## Prerequisites

To test this functionality, you'll need:

1. Access to Adobe Experience Platform
2. Content & Commerce AI service enabled in your Adobe organization
3. API credentials (endpoint URL and API key)

## Setting Up API Credentials

1. Log in to [Adobe Developer Console](https://developer.adobe.com/console/home)
2. Create a new project or select an existing project
3. Add the Content & Commerce AI API to your project
4. Generate API credentials (you'll need the Service Account credentials)
5. Note down the following information:
   - API Endpoint URL
   - API Key

## Configuring the Extension

1. Open VS Code settings (File > Preferences > Settings or Cmd/Ctrl+,)
2. Search for "adobeMarkdownAuthoring.aiService"
3. Configure the following settings:
   - Enable the service by checking "Enable AI service for generating alt text suggestions"
   - Enter your API Endpoint URL in the "Endpoint URL" field (typically something like `https://sensei.adobe.io/services/v1/predict`)
   - Enter your API Key in the "API Key" field
   - Save the settings

## Testing the Functionality

1. Open a markdown file containing images with missing or inadequate alt text (you can use `test-alt-text.md`)
2. Open the Command Palette (Cmd/Ctrl+Shift+P)
3. Type "Suggest Alt Text" and select "Markdown Shortcuts: Suggest Alt Text for Images"
4. The extension will scan the document for images with missing or inadequate alt text
5. For each image found, you'll see a notification with:
   - The current alt text (if any)
   - The suggested alt text generated by Adobe Sensei
   - Options to "Apply", "Edit", or "Skip"
6. Choose an option for each image
7. After processing all images, verify that the alt text has been updated in the markdown file

## Troubleshooting

If you encounter issues:

1. Check the VS Code Developer Console (Help > Toggle Developer Tools) for error messages
2. Verify your API credentials are correct
3. Ensure your Adobe account has the necessary permissions for Content & Commerce AI
4. Check that the images are accessible (local images should be readable, remote images should be publicly accessible)

## Example Response Structure

The Adobe Sensei Content & Commerce AI typically returns a response with this structure:

```json
{
  "contentAnalyzerResponses": [
    {
      "status": 200,
      "tags": [
        {
          "name": "mountain",
          "confidence": 0.95
        },
        {
          "name": "landscape",
          "confidence": 0.92
        }
      ],
      "objects": [
        {
          "name": "tree",
          "confidence": 0.88
        }
      ]
    }
  ]
}
```

The extension uses this information to generate descriptive alt text for your images.